<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Campaign Companion</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js" integrity="sha512-57oZ/vW8ANMjR/KQ6Be9v/+/h6bq9/l3f0Oc7vn6qMqyhvPd1cvKBRWWpzu0QoneImqr2SkmO4MSqU+RpHom3Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
  <app-root></app-root>
</body>

<script>

function setOpacity(){
  var startPos = 0.5;

  // Cache window object
  var $w = $(window);

  // Basically, we go through each element and check its relative position within the viewport
  $('button, h1,h2,h3, h4 , h5 , h6').each(function() {
      // Get current relative position in viewport, based on the top edge
    var pos = $(this).offset().top - $w.scrollTop();
    
    // Get viewport height
    var vh = $w.height();

    if(pos < (vh /2)){
      startPos = 0.2
      if (pos < vh * startPos) {
        $(this).css('opacity', pos / (vh * startPos) * 1);
      } else {
        $(this).css('opacity', 1);
      }
    }

    if(pos > (vh /2)){
        startPos = 0.7
      var low_pos = $w.scrollTop() + $w.height() - $(this).offset().top;
      
      if (pos > vh * startPos) {
        $(this).css('opacity', low_pos / (vh * 0.3) * 1);
      } else {
        $(this).css('opacity', 1);
      }
    }
  });   
}

function setBorderOpacity(){
  var startPos = 0.5;

  // Cache window object
  var $w = $(window);

  // Basically, we go through each element and check its relative position within the viewport
  $('.fantasy-border').each(function() {
      // Get current relative position in viewport, based on the top edge
    var pos = $(this).offset().top - $w.scrollTop();
    // Get viewport height
    var vh = $w.height();

    if(pos < (vh /2)){
      startPos = 0.2
      if (pos < vh * startPos) {
        $(this).css({
          'border': '2px solid rgba(110, 13, 27, ' + pos / (vh * startPos) * 1+')',
          'box-shadow': '0 0 10px rgba(110, 13, 27, ' + (pos / (vh * startPos) * 1)/2+')'

      });
      } else {
        $(this).css({
          'border': '2px solid rgba(110, 13, 27, 1)',
          'box-shadow': '0 0 10px rgba(110, 13, 27, .5)'
        });
      }
    }

    if(pos > (vh /2)){
        startPos = 0.5
      var low_pos = $w.scrollTop() + $w.height() - $(this).offset().top;
      //low_pos = low_pos + this.height;
      if (pos > vh * startPos) {
        $(this).css({
          'border': '2px solid rgba(110, 13, 27, ' + low_pos / (vh * 0.3) * 1+')',
          'box-shadow': '0 0 10px rgba(110, 13, 27, ' + (low_pos / (vh * 0.3) * 1)/2+')'
        });
      } else {
        $(this).css({
          'border': '2px solid rgba(110, 13, 27, 1)',
          'box-shadow': '0 0 10px rgba(110, 13, 27, .5)'
        });
      }
    }
  });   
}

setOpacity();
setBorderOpacity();
  $(document).ready(function(){
      setOpacity();
      setBorderOpacity();

      $("tabset > li").click(function(){
        setOpacity();
        setBorderOpacity();
      })

  })

  $(window).scroll(function() {
      setOpacity();  
      setBorderOpacity();
  });
 



  $(function () {
   
  });


</script>
</html>
